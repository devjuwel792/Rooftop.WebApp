@model IEnumerable<Rooftop.WebApp.ViewModel.PaymentVm>



@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/Backend/_Layout.cshtml";
    int tId = 1;
}


<div class="card p-4">
    <h5 class="card-header"> Payment Table </h5>
    <div class="table-responsive text-nowrap">
        <table class="table" id="PaymentTable">
            <thead>
                <tr>
                    <th>#</th>
                    <th>
                        @Html.DisplayNameFor(model => model.TrasnsId)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Email)
                    </th>
                    
                    <th>
                        @Html.DisplayNameFor(model => model.OrderTime)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.User)
                    </th>
                    <th>
                        Roof Top
                    </th>
                    <th>
                        House Owner
                    </th>
                    <th>
                        Payment
                    </th>
                    
                </tr>
            </thead>
            <tbody class="table-border-bottom-0">
                @foreach (var item in Model.Where(x => !x.IsPaymentConfirmed))
                {
                    <tr>
                        <td>
                            @tId
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TrasnsId)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Email)
                        </td>
                       
                        <td>
                            @Html.DisplayFor(modelItem => item.OrderTime)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.User.UserName)
                        </td>
                        <td>
                            <img style="max-width:100px !important" src="~/img/@Html.DisplayFor(modelItem => item.farm.Image1)" />

                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.farm.HouseOwners.Name)
                        </td>
                        <td>
                            <form asp-action="pending" method="post">
                                <input type="hidden" name="id" value="@item.Id" />
                                <span class="badge bg-label-success">
                                    <input type="submit" value="Confirm" />
                                </span>

                            </form>
                        </td>
                        
                    </tr>
                    tId++;
                }
                
               
            </tbody>
        </table>
    </div>
</div>

@section Scripts {
    <script>
        $(function () {
            $('#PaymentTable').DataTable();
        });
    </script>

}

